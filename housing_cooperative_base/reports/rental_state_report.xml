<?xml version="1.0"?>
<odoo>
    <report id="rental_state_report"
        string="Rental state"
        model="hc.lease.line" 
        report_type="qweb-html"
        name="housing_cooperative_base.report_rental_state_template"
    /> <!-- TODO: report_type="qweb-pdf" -->

    <template id="report_rental_state_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                <!-- Report header content -->
                <div class="container">
                    <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M')"/>
                    <div class="row bg-primary">
                        <div class="col-3">Premise</div>
                        <div class="col-4">Tenant</div>
                        <div class="col-2">Start</div>
                        <div class="col-1">Monthly Rent</div>
                        <div class="col-1">Monthly Charges</div>
                        <div class="col-1">Yearly Rent</div>
                        <div class="col-1">Yearly Charges</div>
                    </div>
                    <t t-foreach="lease_line_ids" t-as="o">
                        <div class="row">
                            <!-- Report Row Content -->
                            <div class="col-3">
                                <h4><span t-field="o.premise_id" /></h4>
                            </div>
                            <div class="col-4">
                                <span t-field="o.tenant_id" />
                            </div>
                            <div class="col-1">
                                <span t-field="o.start" t-options="{'widget': 'date'}" />
                            </div>
                            <div class="col-1">
                                <span t-field="o.rent"/>
                            </div>
                            <div class="col-1">
                                <span t-field="o.charges"/>
                            </div>
                            <div class="col-1">
                                <span t-field="o.rent"/>
                            </div>
                            <div class="col-1">
                                <span t-field="o.charges"/>
                            </div>
                        </div>
                    </t>
                    <!-- Report footer content -->
                    <div class="row">
                        <div class="col-3">
                          Count: <t t-esc="len(lease_line_ids)" />
                        </div>
                        <div class="col-3" />
                        <div class="col-2" />
                        <div class="col-2" />
                        <div class="col-2" />
                    </div>
                    </div>
                </div>
            </t>
        </t>
   </template>
</odoo>
